SELECT id FROM JUGADOR WHERE JUGADOR.nombre;
DROP DATABASE IF EXISTS Juego;
CREATE DATABASE Juego;

USE Juego;

CREATE TABLE JUGADOR (
        nombre VARCHAR (20) TEXT NOT NULL, /*NOT NULL -> no puede contener valores nulos*/
        pwd VARCHAR (10) TEXT NOT NULL,
        id INTEGER PRIMARY KEY NOT NULL /*INTEGER PRIMARY KEY NOT NULL -> identifica de manera Ãºnica cada fila de una tabla*/
 )ENGINE = InnoDB;

CREATE TABLE PARTIDA (
        ganador VARCHAR (30),
        duracion VARCHAR (10),
        data_temps DATETIME,
        id INTEGER PRIMARY KEY NOT NULL
 )ENGINE = InnoDB;

CREATE TABLE PARTICIPACION (
        JUGADOR INTEGER NOT NULL,
        PARTIDA INTEGER NOT NULL,
        FOREIGN KEY (JUGADOR) REFERENCES JUGADOR(id),
        FOREIGN KEY (PARTIDA) REFERENCES PARTIDA(id)
 )ENGINE = InnoDB;

INSERT INTO JUGADOR (nombre, pwd, id) VALUES ('Alex', '5382',1);
INSERT INTO JUGADOR (nombre, pwd, id) VALUES ('Taha', '2904',2);
INSERT INTO JUGADOR (nombre, pwd, id) VALUES ('Anna', '2127',3);

INSERT INTO PARTIDA VALUES (1, 49.4,'2022-10-02 11:15:20', 1);
INSERT INTO PARTIDA VALUES (3, 52.1,'2022-10-02 12:15:27', 2);
INSERT INTO PARTIDA VALUES (3, 73.3,'2022-10-02 15:45:10', 3);

INSERT INTO PARTICIPACION VALUES (1,1);
INSERT INTO PARTICIPACION VALUES (1,2);
INSERT INTO PARTICIPACION VALUES (1,3);
INSERT INTO PARTICIPACION VALUES (2,1);
INSERT INTO PARTICIPACION VALUES (2,2);
INSERT INTO PARTICIPACION VALUES (2,3);
INSERT INTO PARTICIPACION VALUES (3,1);
INSERT INTO PARTICIPACION VALUES (3,2);
INSERT INTO PARTICIPACION VALUES (3,3);

SELECT PARTIDA.id FROM (PARTIDA, JUGADOR) WHERE JUGADOR.nombre = (SELECT MAX(PARTIDA.duracion));
